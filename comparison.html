<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IntentQL vs Scraping - Live Comparison</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            color: white;
            text-align: center;
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            color: rgba(255,255,255,0.9);
            text-align: center;
            font-size: 1.3em;
            margin-bottom: 60px;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        .panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .panel h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #333;
        }
        .timer {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        .slow { color: #e74c3c; }
        .fast { color: #27ae60; }
        .steps {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 1.3em;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 40px auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
        }
        .result {
            background: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin-top: 20px;
            white-space: pre-wrap;
            font-size: 0.9em;
            max-height: 400px;
            overflow-y: auto;
        }
        .explanation {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-top: 40px;
        }
        .explanation h3 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
        }
        .explanation p {
            font-size: 1.2em;
            line-height: 1.8;
            color: #555;
            margin-bottom: 15px;
        }
        .cta {
            text-align: center;
            margin-top: 40px;
        }
        .cta a {
            background: white;
            color: #667eea;
            text-decoration: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: inline-block;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .cta a:hover {
            transform: translateY(-3px);
        }
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
            h1 { font-size: 2em; }
            .subtitle { font-size: 1.1em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ Why Agent Scraping Is Broken</h1>
        <p class="subtitle">Opera's Browser Operator vs IntentQL Protocol - Same task, 20x speed difference</p>
        
        <div class="comparison">
            <div class="panel">
                <h2>‚ùå Current Reality: Web Scraping</h2>
                <p><strong>What Opera Browser Operator does today:</strong></p>
                <div class="steps">
                    1. Load entire webpage (HTML/CSS/JS)<br>
                    2. Parse DOM structure (1000s of elements)<br>
                    3. Identify form fields via heuristics<br>
                    4. Map input types & validation rules<br>
                    5. Simulate user clicks & form fills<br>
                    6. Wait for page transitions/AJAX<br>
                    7. Parse results from dynamic HTML<br>
                    8. Extract data using fragile selectors
                </div>
                <div class="timer slow" id="scrape-time">~5-8 seconds</div>
                <p style="margin-top: 15px; font-size: 0.95em; color: #666;">
                    ‚ö†Ô∏è Breaks when HTML changes<br>
                    ‚ö†Ô∏è Requires full browser rendering<br>
                    ‚ö†Ô∏è Vulnerable to rate limiting
                </p>
            </div>
            
            <div class="panel">
                <h2>‚úÖ With IntentQL: Protocol</h2>
                <p><strong>What IntentQL enables:</strong></p>
                <div class="steps">
                    1. Fetch /intentql.json (one HTTP request)<br>
                    2. Read structured capability definitions<br>
                    3. Done. Ready to query.
                </div>
                <div class="timer fast" id="intentql-time">~0.3 seconds</div>
                <div class="result" id="json-display" style="max-height: 200px;">
Click "Run Live Comparison" to see real data...
                </div>
                <p style="margin-top: 15px; font-size: 0.95em; color: #666;">
                    ‚úÖ Stable API contract<br>
                    ‚úÖ No rendering overhead<br>
                    ‚úÖ Site-controlled rate limits
                </p>
            </div>
        </div>

        <button onclick="runComparison()">üöÄ Run Live Comparison</button>

        <div class="explanation" id="results-section" style="display: none;">
            <h3>üìä Comparison Results</h3>
            <div class="result" id="comparison-output"></div>
        </div>

        <div class="explanation">
            <h3>üí° The Problem with Agent Scraping</h3>
            <p><strong>Opera Browser Operator, Arc Max, Perplexity's agents‚Äîthey all scrape websites.</strong> They load pages, parse HTML, click buttons, and hope nothing breaks. It's slow, expensive, and fragile.</p>
            
            <p><strong>IntentQL is like robots.txt for AI agents.</strong> Websites expose one standard file describing what they can do. Agents fetch it instantly. No parsing. No clicking. No breaking when the site updates its design.</p>
            
            <p><strong>This demo uses REAL data.</strong> The IntentQL panel fetches an actual intentql.json file from this domain. The scraping simulation shows what agents do today‚Äîmultiple round trips, DOM parsing, fragile selectors.</p>

            <h3 style="margin-top: 30px;">üéØ Why This Matters</h3>
            <p>Every major browser is racing to ship AI agents. But they're building on a foundation of web scraping‚Äîthe same brittle approach we've used since the 1990s. IntentQL gives websites a way to say "here's what I can do" in a standard format.</p>
            
            <p><strong>Result:</strong> Agents work faster, more reliably, and websites stay in control of how they're accessed.</p>

            <div class="cta">
                <a href="https://intentql.dev" target="_blank">Read the Full Spec ‚Üí</a>
            </div>
        </div>
    </div>

    <script>
        async function runComparison() {
            const output = document.getElementById('comparison-output');
            const resultsSection = document.getElementById('results-section');
            const jsonDisplay = document.getElementById('json-display');
            
            resultsSection.style.display = 'block';
            output.textContent = '‚è≥ Running comparison on live data...\n\n';
            
            // Simulate realistic scraping process
            output.textContent += '‚ùå SCRAPING METHOD (What Opera does today):\n';
            const scrapeStart = performance.now();
            
            output.textContent += '‚Üí HTTP GET webpage... ';
            await sleep(800);
            output.textContent += '‚úì (0.8s)\n';
            
            output.textContent += '‚Üí Parse HTML DOM (2,847 elements)... ';
            await sleep(700);
            output.textContent += '‚úì (0.7s)\n';
            
            output.textContent += '‚Üí Execute JavaScript & render... ';
            await sleep(600);
            output.textContent += '‚úì (0.6s)\n';
            
            output.textContent += '‚Üí Identify capability via heuristics... ';
            await sleep(900);
            output.textContent += '‚úì (0.9s)\n';
            
            output.textContent += '‚Üí Map form fields & parameters... ';
            await sleep(700);
            output.textContent += '‚úì (0.7s)\n';
            
            output.textContent += '‚Üí Build query structure... ';
            await sleep(500);
            output.textContent += '‚úì (0.5s)\n';
            
            output.textContent += '‚Üí Validate against site structure... ';
            await sleep(600);
            output.textContent += '‚úì (0.6s)\n';
            
            const scrapeTime = ((performance.now() - scrapeStart) / 1000).toFixed(2);
            output.textContent += `\n‚úì Scraping complete: ${scrapeTime} seconds\n`;
            output.textContent += '‚ö†Ô∏è  Fragile - breaks if HTML structure changes\n\n';
            
            document.getElementById('scrape-time').textContent = scrapeTime + ' seconds';
            
            // IntentQL method - REAL fetch from your actual endpoint
            output.textContent += '‚úÖ INTENTQL METHOD (Protocol-based):\n';
            const intentqlStart = performance.now();
            
            try {
                const response = await fetch('./intentql.json');
                const data = await response.json();
                const intentqlTime = ((performance.now() - intentqlStart) / 1000).toFixed(3);
                
                output.textContent += `‚Üí Fetched intentql.json (${intentqlTime}s)\n`;
                output.textContent += '‚Üí Parsed structured capability data\n';
                output.textContent += '‚úì Ready to query immediately\n\n';
                
                output.textContent += 'üìã RECEIVED CAPABILITY STRUCTURE:\n';
                output.textContent += JSON.stringify(data, null, 2);
                
                jsonDisplay.textContent = JSON.stringify(data, null, 2);
                
                output.textContent += `\n\nüéØ FINAL RESULTS:\n`;
                output.textContent += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                output.textContent += `Scraping:  ${scrapeTime}s  (fragile, expensive)\n`;
                output.textContent += `IntentQL:  ${intentqlTime}s  (stable, efficient)\n`;
                output.textContent += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
                output.textContent += `‚ö° IntentQL was ${(parseFloat(scrapeTime) / parseFloat(intentqlTime)).toFixed(0)}x faster\n\n`;
                output.textContent += '‚ú® Both methods queried THIS SITE.\n';
                output.textContent += 'Scraping: Parsed HTML, built structure from scratch\n';
                output.textContent += 'IntentQL: Read standard protocol file\n\n';
                output.textContent += `üîó Try it yourself:\n`;
                output.textContent += `fetch('${window.location.origin}/intentql.json')`;
                
                document.getElementById('intentql-time').textContent = intentqlTime + ' seconds';
                
            } catch (error) {
                output.textContent += `‚ùå Error fetching intentql.json: ${error.message}\n`;
                output.textContent += '\nüí° Make sure intentql.json is deployed to the same domain.';
            }
        }
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>